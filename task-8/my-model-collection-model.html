<!doctype html>
<html>
<head>
<script src="js/underscore-1.4.4.js"></script>
<script src="js/jquery-1.9.1.js"></script>
<script src="js/json2.js"></script>
<script src="js/backbone-0.9.10.js"></script>

<script src="my/my-restaurant-model.js"></script>
<style>
</style>
</head>
<body>

<h2>Backbone's Model containing a Collection</h2>
<div>Тут ничего не должно быть; смотрите в код и в консоль браузера.</div>

<script>
// Создать конкретный ресторан и конкретного посетителя.
var r = new RestaurantModel({ restaurantName: "У Озера" });
var v = new Visitor({ firstName: "Онуфрий", title: "Отец" });

 r.openRestaurant();
 r.visitorCame(v);
console.log(JSON.stringify(r.toJSON()));

// r.visitorLeft(v);
// r.get("currentOccupancy");
// r.visitorLeft(v);   
 
/*
 * Также попробуйте в консоли:
 * 
 * r.visitorCame({ firstName: "Poupkine" })
 * r.attributes.visitors.models
 * r.attributes.currentOccupancy
 * r.get("currentOccupancy");
 * r.get("visitors").models;
 */

/*
 * Ну и, на закуску, посмотрим, что хранится в ресторане:
 * r.visitorCame(v);
 * JSON.stringify(r.toJSON())
 */

</script>

</body>
</html>
