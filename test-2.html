<!doctype html>
<html>
<head>
	<title>Exercise 2</title>
	<script>
		function Kennels(num) {
			this.breed = new Array(num);
			
			if (typeof Object.preventExtensions == 'function') { Object.preventExtensions(this); }
			else { this.stillextensible = 'yes'; }
		};
			</script>	
	<script src="test-2-data.js"></script>
</head>

<body>
	<script>
		Object.prototype.foo="bar";
		
		/* Solution 2 */

		function clone(original)
		{
			switch (typeof original) {
				case 'object': 
					if (original == null) return null;
					if (original instanceof Array) { var newObj = []; } else { var newObj = {}; }
					for (var el in original) { 
						if (original.hasOwnProperty(el)) { newObj[el] = clone(original[el]); } }
					return newObj;
				case 'boolean':
				case 'number': 
				case 'string':	return original;
				default: 		return;
			}
			
		}
		
		var MyHonestKennel = clone(KennelData);
		
		MyHonestKennel[0].dogs[0].features.honors[0].years[0] = 2003;

		console.log(JSON.stringify(KennelData));
		console.log(JSON.stringify(MyHonestKennel));
		console.log([ KennelData[0].dogs[0].features.honors[0].years[0], MyHonestKennel[0].dogs[0].features.honors[0].years[0] ]);


		/* Solution 1 */

		var MyKennel = eval(JSON.stringify(KennelData));
		
		MyKennel[0].dogs[0].features.honors[0].years[0] = 2005;
		
		console.log([ KennelData[0].dogs[0].features.honors[0].years[0], MyKennel[0].dogs[0].features.honors[0].years[0] ]);
	</script>

</body>	
</html>
