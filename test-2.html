<!doctype html>
<html>
<head>
	<title>Exercise 2</title>
	<script src="test-2-data.js"></script>
</head>

<body>
	<script>
		// Object.prototype.foo="bar";
		
		/* Solution 2* */

		function clone(original) {
			switch (typeof original) {
				case 'object':				    
					if (original == null) return null;
					var newObj;
					if (original instanceof Array) {
						for (var i = 0; i < original.length; i++) { //>
							newObj[i] = clone(original[i]); 
						}
					} else {
						for (var el in original) { 
							if (original.hasOwnProperty(el)) { newObj[el] = clone(original[el]); } 
						}
					}
					return newObj;
				default:
					return original;
			}
			
		}
		
		var my_honest_kennel = clone(kennel_data);

		console.log(JSON.stringify(kennel_data));
		console.log(JSON.stringify(my_honest_kennel));

		my_honest_kennel[0].dogs[0].features.honors[0].years[0] = 2003;
		console.log([ kennel_data[0].dogs[0].features.honors[0].years[0], my_honest_kennel[0].dogs[0].features.honors[0].years[0] ]);


		/* Solution 1 */

		if (typeof kennel_data == 'object' && kennel_data != null) {
			var my_kennel = eval(JSON.stringify(kennel_data)); } else {
			var my_kennel = kennel_data; 
		}
		
		console.log(JSON.stringify(kennel_data));
		console.log(JSON.stringify(my_honest_kennel));

		my_kennel[0].dogs[0].features.honors[0].years[0] = 2005;
		console.log([ kennel_data[0].dogs[0].features.honors[0].years[0], my_kennel[0].dogs[0].features.honors[0].years[0] ]);
	</script>

</body>	
</html>
